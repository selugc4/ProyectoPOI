import{a as N}from"./chunk-GDGQMHKT.js";import{a as B}from"./chunk-UYLNLCYZ.js";import{$ as I,Da as P,G as l,H as a,I as o,Ia as w,O as x,P as g,Pa as O,X as c,Y as p,Z as v,_ as y,aa as C,gb as E,i as f,ia as M,ja as b,ma as S,mb as T,ob as q,t as n,w as h,xb as G,yb as k,z as m,zb as F}from"./chunk-BWDMBPI3.js";import"./chunk-UDHHHPKJ.js";import"./chunk-JSQDAY7T.js";import"./chunk-PAAW3VWM.js";import"./chunk-VU72VQEI.js";import"./chunk-BU6F7OWR.js";import"./chunk-JZYWOUJL.js";import"./chunk-WHJRDKSF.js";import"./chunk-4U6PRYVA.js";import"./chunk-LB2OG3QI.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{g as _}from"./chunk-OLRFWS6T.js";function L(e,i){if(e&1&&(a(0,"ion-text",6),c(1),o()),e&2){let s=g();n(),p(s.error)}}function R(e,i){e&1&&(a(0,"div",16),c(1,"\u2193"),o())}function W(e,i){if(e&1&&(a(0,"div",9)(1,"div",10)(2,"div",11),c(3),o(),a(4,"div",12)(5,"div",13),c(6),o(),a(7,"div",14),c(8),o()()(),m(9,R,2,0,"div",15),o()),e&2){let s=i.$implicit,d=i.index,t=g(2);n(3),p(d+1),n(3),p(s.name),n(2),p(s.address),n(),l("ngIf",d<((t.locations==null||t.locations.route==null?null:t.locations.route.length)||0))}}function j(e,i){if(e&1&&(a(0,"div",7),m(1,W,10,4,"div",8),o()),e&2){let s=g();n(),l("ngForOf",s.locations==null?null:s.locations.route)}}var ne=(()=>{let i=class i{constructor(){this.city="",this.loading=!1,this.error="",this.locationServices=f(N),this.authService=f(B)}ngOnInit(){}search(){return _(this,null,function*(){var d;this.error="",this.loading=!0;try{let t=yield this.authService.getCurrentUser();this.locations=(yield this.locationServices.getRecommendedRoute(this.city,(d=t==null?void 0:t.uid)!=null?d:""))||[],console.log(this.locations)}catch{this.error="No se pudo obtener la ruta"}this.loading=!1})}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=h({type:i,selectors:[["app-groq"]],decls:10,vars:7,consts:[[3,"translucent"],[3,"fullscreen"],["placeholder","Buscar ciudad",1,"prompt",3,"ngModelChange","ngModel"],["expand","block",1,"boton",3,"click","disabled"],["color","danger",4,"ngIf"],["class","route-container",4,"ngIf"],["color","danger"],[1,"route-container"],["class","step",4,"ngFor","ngForOf"],[1,"step"],[1,"step-content"],[1,"step-number"],[1,"step-info"],[1,"step-name"],[1,"step-address"],["class","arrow",4,"ngIf"],[1,"arrow"]],template:function(t,r){t&1&&(a(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),c(3,"Groq"),o()()(),a(4,"ion-content",1)(5,"ion-searchbar",2),C("ngModelChange",function(u){return I(r.city,u)||(r.city=u),u}),o(),a(6,"ion-button",3),x("click",function(){return r.search()}),c(7),o(),m(8,L,2,1,"ion-text",4)(9,j,2,1,"div",5),o()),t&2&&(l("translucent",!0),n(4),l("fullscreen",!0),n(),y("ngModel",r.city),n(),l("disabled",!r.city||r.loading),n(),v(" ",r.loading?"Buscando...":"Buscar Ruta"," "),n(),l("ngIf",r.error),n(),l("ngIf",r.locations==null||r.locations.route==null?null:r.locations.route.length))},dependencies:[T,q,k,F,S,M,b,O,P,w,E,G],styles:[".route-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:1rem;width:100%}.step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:1rem;text-align:center}.step-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.step-number[_ngcontent-%COMP%]{background:#3880ff;color:#fff;border-radius:50%;width:28px;height:28px;text-align:center;line-height:28px;font-size:14px;margin-right:10px;flex-shrink:0}.step-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-width:90%}.step-name[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.step-address[_ngcontent-%COMP%]{font-size:14px;color:#666}.arrow[_ngcontent-%COMP%]{font-size:24px;color:#aaa;margin:8px 0}"]});let e=i;return e})();export{ne as GroqPage};
